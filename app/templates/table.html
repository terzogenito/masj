{% extends 'base.html' %}
{% block title %}{{ table_name|capfirst }} Rows{% endblock %}
{% block content %}
{% include 'nav.html' %}
<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>{{ table_name|capfirst }}</h2>
        <a href="{% url 'data_view' %}" class="btn btn-secondary btn-sm">Back to Tables</a>
    </div>
    <div id="top-scroll" style="overflow-x: auto; overflow-y: hidden;">
        <div style="width: max-content; height: 1px;"></div>
    </div>
    <div id="bottom-scroll" style="overflow-x: auto; white-space: nowrap;">
        <table class="table table-bordered">
            <thead>
                <tr>
                    {% for column in columns %}
                    <th>{{ column|capfirst }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in rows %}
                <tr>
                    {% for cell in row %}
                    <td>{{ cell }}</td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<script>
    const topScroll = document.getElementById('top-scroll');
    const bottomScroll = document.getElementById('bottom-scroll');
    topScroll.addEventListener('scroll', function () {
        bottomScroll.scrollLeft = topScroll.scrollLeft;
    });
    bottomScroll.addEventListener('scroll', function () {
        topScroll.scrollLeft = bottomScroll.scrollLeft;
    });
    document.getElementById('top-scroll').firstElementChild.style.width =
        document.getElementById('bottom-scroll').firstElementChild.offsetWidth + 'px';
</script>
{% endblock %}
